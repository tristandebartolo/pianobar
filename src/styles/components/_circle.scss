@import '../variables';
@import '../mixins';

.circle-of-fifths {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: start;
  justify-content: center;
  padding: $space-md;

  @include mobile {
    padding: $space-sm;
  }

  &__svg {
    width: 100%;
    height: 100%;
    max-width: 700px;
    max-height: 700px;
    filter: drop-shadow($shadow-md);

    @include mobile {
      max-width: 400px;
      max-height: 400px;
    }

    @include tablet {
      max-width: 500px;
      max-height: 500px;
    }
  }

  &__center {
    transition: all $transition-base;
  }

  &__major-keys,
  &__minor-keys {
    .key-segment {
      transition: all $transition-base;
      outline: none;

      &__path {
        transition: fill $transition-base, filter $transition-base;
      }

      &__label {
        transition: fill $transition-fast;
      }

      &:hover {
        .key-segment__path {
          filter: brightness(1.2);
          outline: none;
        }
      }

      &--selected {
        .key-segment__path {
          filter: brightness(1.3) drop-shadow($shadow-glow);
          outline: none;
        }

        .key-segment__label {
          font-size: 18px;
          font-weight: 700;
        }
      }

      &--highlighted {
        .key-segment__path {
          filter: brightness(1.15);
          animation: pulse 1.5s ease-in-out infinite;
          outline: none;
        }
      }
    }
  }
}

.circle-of-fifdths__motion {
  transform: revert-layer !important;
}

@keyframes pulse {
  0%,
  100% {
    opacity: 0.9;
  }
  50% {
    opacity: 1;
  }
}
